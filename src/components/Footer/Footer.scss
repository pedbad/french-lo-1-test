// Footer.scss

@use "../../styles/media-queries.scss" as *;
@use "../../styles/mixins.module" as *;

$common-width: 216px;

footer {
	background-color: var(--footer-background);
	position: relative;
	overflow: visible;
	isolation: isolate;

	// Soft wave + angled crest to break the flat "box" top edge.
	&::before {
		content: "";
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		height: 64px;
		transform: translateY(-100%);
		background: inherit;
		clip-path: polygon(0 100%, 0 16%, 14% 78%, 34% 22%, 52% 84%, 71% 28%, 87% 74%, 100% 18%, 100% 100%);
		pointer-events: none;
		z-index: 0;
	}

	&::after {
		content: "";
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		height: 42px;
		transform: translateY(-86%);
		background:
			conic-gradient(
				from 210deg at 8% 100%,
				var(--footer-crest-conic-a-start) 0deg,
				var(--footer-crest-conic-a-mid) 58deg,
				transparent 125deg
			),
			conic-gradient(
				from -30deg at 92% 100%,
				var(--footer-crest-conic-b-start) 0deg,
				var(--footer-crest-conic-b-mid) 62deg,
				transparent 128deg
			),
			linear-gradient(
				180deg,
				var(--footer-crest-linear-start) 0%,
				var(--footer-crest-linear-mid) 58%,
				transparent 100%
			);
		background-blend-mode: screen, screen, normal;
		opacity: 0.92;
		pointer-events: none;
		z-index: 0;
	}

	.footer-container {
		position: relative;
		z-index: 1;
		color: var(--foreground);
		padding: 40px 36px 60px;
		--footer-hover-color: var(--chart-3);

		display: grid;
		grid-template-columns: 1fr;
		grid-template-rows: auto auto auto auto auto; //2fr 80px 45px 80px;
		grid-column-gap: 20px;
		grid-row-gap: 40px;
		grid-template-areas:
			"uclogo"
			"square-logos"
			"footer-links"
			"license"
			"copyright";

		.uclogo {
			display: flex;
			justify-content: center;
			grid-area: uclogo;
			a {
				width: $common-width;
				justify-self: right;
				grid-area: uclogo;
				display: inline-block;
				img {
					max-width: 100%;
					&.logo {
						display: none;
						&.theme-light {
							&.horizontal {
								display: none;
							}
							&.vertical {
								display: block;
							}
						}
						&.theme-dark {
							display: none;
						}
					}
				}
			}
		}

		.square-logos {
			display: flex;
			flex-direction: column;
			grid-area: square-logos;
			align-items: center;
			gap: 18px;
			width: $common-width;
			margin: auto;
			.square-logos-row {
				display: flex;
				justify-content: space-between;
				width: 100%;
			}
			a {
				display: block;
				color: var(--foreground);
				transition:
					color 180ms ease,
					transform 180ms ease,
					filter 180ms ease;
				&:hover {
					color: var(--footer-hover-color);
				}
			}
		}
		.footer-links {
			display: flex;
			grid-area: footer-links;
			align-items: center;
			justify-content: center;
			width: $common-width;
			margin: auto;
			.footer-links-block {
				width: 100%;
				margin-top: 10px;
				.footer-link-icons {
					display: flex;
					justify-content: center;
					flex-wrap: nowrap;
					gap: 14px;
					width: 100%;
						.footer-link-button {
							display: inline-flex;
							align-items: center;
							justify-content: center;
							color: var(--footer-social-icon-fg);
						width: 38px;
						height: 38px;
						border-radius: 9999px;
						border: 1px solid var(--foreground);
						background: var(--foreground);
						opacity: 1;
						transition:
							color 180ms ease,
							transform 180ms ease,
							filter 180ms ease;
						.footer-link-glyph {
							width: 20px;
							height: 20px;
							display: block;
							stroke: currentColor;
						}
							&:hover {
								color: var(--footer-social-icon-fg);
							background: var(--footer-hover-color);
							border-color: var(--footer-hover-color);
							transform: translateY(-2px) scale(1.04);
							filter: drop-shadow(0 4px 10px color-mix(in oklab, var(--footer-hover-color) 35%, transparent));
						}
						&:active {
							transform: translateY(-1px) scale(1.01);
						}
					}
				}
			}
		}

		$square-logo-height: 50px;

		.square-logo {
			grid-area: square-logos;
			display: flex;
			// background: red;
			height: $square-logo-height;
			align-items: flex-end;
		}

		.lclogo,
		.cclogo {
			svg {
				height: 45px; // leaves a little space at the top for the mortar board on elearninglogo
				fill: currentColor;
			}
		}
		.elearninglogo {
			svg {
				height: $square-logo-height;
				fill: currentColor;
			}
		}

		.license {
			grid-area: license;
			font-style: normal;

			// font-weight: 400;
			// margin-top: 32px;
			color: color-mix(in oklab, var(--foreground) 85%, transparent);
			a {
				&:hover {
					color: var(--primary);
				}
			}
		}

		.copyright {
			grid-area: copyright;
			justify-self: start;
			margin: 0;
			color: var(--foreground);
			a {
				display: inline-block;
				text-decoration-line: underline;
				text-decoration-style: solid;
				text-decoration-skip-ink: auto;
				text-decoration-thickness: 1px;
				text-underline-offset: 5px;
				text-underline-position: from-font;
				color: var(--foreground);
				transition: none;
				transform: none;
				filter: none;
				&:hover {
					color: var(--footer-hover-color);
				}
			}
			.developed {
				margin-top: 0;
				font-style: normal;
			}
		}
	}
}

@media (prefers-reduced-motion: reduce) {
	footer {
		.footer-container {
			.square-logos a {
				transition: color 120ms ease;
				&:hover,
				&:active {
					transform: none;
					filter: none;
				}
			}
			.footer-links .footer-link-button {
				transition: color 120ms ease;
				&:hover,
				&:active {
					transform: none;
					filter: none;
				}
			}
			.copyright a {
				transition: none;
			}
		}
	}
}

.dark footer {
	background-color: var(--sidebar);
	&::before,
	&::after {
		display: none;
	}
	.footer-container {
		--footer-hover-color: var(--chart-4);
		.footer-links {
			--footer-hover-color: var(--chart-3);
			.footer-link-button {
				color: var(--footer-social-dark-fg);
				border-color: var(--footer-social-dark-border);
				background: var(--footer-social-dark-bg);
				box-shadow:
					var(--footer-social-dark-shadow);
				.footer-link-glyph {
					stroke: var(--footer-social-dark-fg);
				}
				filter: var(--footer-social-dark-glow);
				&:hover {
					border-color: var(--footer-social-dark-border-hover);
				}
				&[data-variant="facebook"] {
					background: var(--footer-social-facebook-bg) !important;
					border-color: var(--footer-social-facebook-border) !important;
					filter: var(--footer-social-facebook-glow) !important;
					&:hover {
						background: var(--footer-social-facebook-bg-hover) !important;
						filter: var(--footer-social-facebook-glow-hover) !important;
					}
					&:active {
						background: var(--footer-social-facebook-bg-active) !important;
					}
				}
				&[data-variant="x"] {
					background: var(--footer-social-x-bg) !important;
					border-color: var(--footer-social-x-border) !important;
					filter: var(--footer-social-x-glow) !important;
					&:hover {
						background: var(--footer-social-x-bg-hover) !important;
						filter: var(--footer-social-x-glow-hover) !important;
					}
					&:active {
						background: var(--footer-social-x-bg-active) !important;
					}
				}
				&[data-variant="youtube"] {
					background: var(--footer-social-youtube-bg) !important;
					border-color: var(--footer-social-youtube-border) !important;
					filter: var(--footer-social-youtube-glow) !important;
					&:hover {
						background: var(--footer-social-youtube-bg-hover) !important;
						filter: var(--footer-social-youtube-glow-hover) !important;
					}
					&:active {
						background: var(--footer-social-youtube-bg-active) !important;
					}
				}
				&[data-variant="linkedin"] {
					background: var(--footer-social-linkedin-bg) !important;
					border-color: var(--footer-social-linkedin-border) !important;
					filter: var(--footer-social-linkedin-glow) !important;
					&:hover {
						background: var(--footer-social-linkedin-bg-hover) !important;
						filter: var(--footer-social-linkedin-glow-hover) !important;
					}
					&:active {
						background: var(--footer-social-linkedin-bg-active) !important;
					}
				}
				&[data-variant="instagram"] {
					background: var(--footer-social-instagram-bg) !important;
					border-color: var(--footer-social-instagram-border) !important;
					filter: var(--footer-social-instagram-glow) !important;
					&:hover {
						background: var(--footer-social-instagram-bg-hover) !important;
						filter: var(--footer-social-instagram-glow-hover) !important;
					}
					&:active {
						background: var(--footer-social-instagram-bg-active) !important;
					}
				}
			}
		}
		.uclogo a img.logo.theme-light {
			display: none;
		}
		.uclogo a img.logo.theme-dark {
			&.horizontal {
				display: none;
			}
			&.vertical {
				display: block;
			}
		}
	}
}

// html.dark-mode {
// 	footer {
// 		background-color: white;
// 		.footer-container {
// 			color: black;
// 			img {
// 				&.logo {
// 					&.black {
// 						display: block;
// 						&.horizontal {
// 							display: none;
// 						}
// 						&.vertical {
// 							display: block;
// 						}
// 					}
// 					&.white {
// 						display: none;
// 						&.horizontal {
// 							display: none;
// 						}
// 						&.vertical {
// 							display: none;
// 						}
// 					}
// 				}
// 			}
// 		}
// 	}
// }

@include respond-above(s) {
	$common-width: 320px;
	footer {
		.footer-container {
			.uclogo {
				justify-content: center;
				a {
					width: $common-width;
					img {
						&.logo {
							&.theme-light.horizontal {
								display: block;
							}
							&.theme-light.vertical {
								display: none;
							}
							&.theme-dark {
								display: none;
							}
						}
					}
				}
			}
			.square-logos {
				width: $common-width;
			}
			.footer-links {
				width: $common-width;
			}
		}
	}
}

@include respond-above(s) {
	.dark footer {
		.footer-container {
			.uclogo a img.logo.theme-light {
				display: none;
			}
			.uclogo a img.logo.theme-dark {
				&.horizontal {
					display: block;
				}
				&.vertical {
					display: none;
				}
			}
		}
	}
}

@include respond-above(m) {
	footer {
		.footer-container {
			// max-width: 640px;
			grid-template-columns: 3fr 2fr;
			grid-template-rows: auto auto auto;
			grid-template-areas:
				"uclogo square-logos"
				"license license"
				"copyright footer-links";
			// grid-row-gap: 36px;

			.uclogo {
				justify-content: start;
			}

			// padding: 130px 80px; //2.5rem 0;
			.square-logos {
				// grid-area: square-logos;
				justify-content: flex-start;
				align-items: flex-end;
				gap: 16px;
				width: auto;
				.square-logos-row {
					justify-content: flex-end;
					gap: 40px;
					width: auto;
					.lclogo,
					.cclogo {
						img,
						svg {
							height: 52px;
						}
					}
					.elearninglogo {
						img,
						svg {
							height: 58px;
						}
					}
				}
			}
			.footer-links {
				justify-content: flex-end;
				align-items: flex-end;
				width: auto;
				.footer-links-block {
					margin-top: 0;
					width: auto;
					.footer-link-icons {
						justify-content: flex-end;
						gap: 16px;
					}
				}
			}
		}
	}
}
@include respond-above(xl) {
	footer {
		.footer-container {
			// max-width: 768px;
			// grid-template-columns: 2fr 1fr 3fr; //repeat(2, 1fr);
			// grid-template-rows: 1fr;
			// grid-column-gap: 20px;
			// grid-template-areas: "copyright square-logos uclogo";
			// grid-row-gap: 0;
			.lclogo,
			.cclogo,
			.elearninglogo {
				// img,
				svg {
					height: 54px;
				}
			}
			.uclogo {
				width: auto;
				max-width: none;
				a {
					height: 56px; //54px;
					width: auto;
					img {
						height: 100%;
						width: auto;
					}
				}
				// img {
				// 	height: 70px;
				// 	// width: 580px;
				// }
			}

			img {
				&.logo {
					&.black {
						display: none;
					}
					&.white {
						&.horizontal {
							display: block;
						}
						&.vertical {
							display: none;
						}
					}
				}
			}
		}
	}

	// html.dark-mode {
	// 	footer {
	// 		background-color: white;
	// 		.footer-container {
	// 			color: black;
	// 			img {
	// 				&.logo {
	// 					&.black {
	// 						display: block;
	// 						&.horizontal {
	// 							display: block;
	// 						}
	// 						&.vertical {
	// 							display: none;
	// 						}
	// 					}
	// 					&.white {
	// 						display: none;
	// 						&.horizontal {
	// 							display: none;
	// 						}
	// 						&.vertical {
	// 							display: none;
	// 						}
	// 					}
	// 				}
	// 			}
	// 		}
	// 	}
	// }
}

@include respond-above(xxxl) {
	footer {
		.footer-container {
			// max-width: 1024px;
			.lclogo,
			.cclogo,
			.uclogo,
			.elearninglogo {
				width: auto;
				max-width: none;
				img,
				svg {
					height: 80px;
					// width: 580px;
				}
			}
		}
	}
}
// @media (min-width: 1280px) {
// 	footer {
// 		.footer-container {
// 			max-width: 1280px;
// 		}
// 	}
// }
