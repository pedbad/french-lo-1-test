// Footer.scss

@use "../../styles/media-queries.scss" as *;
@use "../../styles/mixins.module" as *;

$common-width: 216px;

footer {
	background-color: var(--footer-background);
	position: relative;
	overflow: visible;
	isolation: isolate;

	// Soft wave + angled crest to break the flat "box" top edge.
	&::before {
		content: "";
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		height: 64px;
		transform: translateY(-100%);
		background: inherit;
		clip-path: polygon(0 100%, 0 16%, 14% 78%, 34% 22%, 52% 84%, 71% 28%, 87% 74%, 100% 18%, 100% 100%);
		pointer-events: none;
		z-index: 0;
	}

	&::after {
		content: "";
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		height: 42px;
		transform: translateY(-86%);
		background:
			conic-gradient(
				from 210deg at 8% 100%,
				color-mix(in oklab, var(--footer-background) 68%, white) 0deg,
				color-mix(in oklab, var(--footer-background) 24%, transparent) 58deg,
				transparent 125deg
			),
			conic-gradient(
				from -30deg at 92% 100%,
				color-mix(in oklab, var(--footer-background) 66%, white) 0deg,
				color-mix(in oklab, var(--footer-background) 22%, transparent) 62deg,
				transparent 128deg
			),
			linear-gradient(
				180deg,
				color-mix(in oklab, var(--footer-background) 50%, white) 0%,
				color-mix(in oklab, var(--footer-background) 18%, transparent) 58%,
				transparent 100%
			);
		background-blend-mode: screen, screen, normal;
		opacity: 0.92;
		pointer-events: none;
		z-index: 0;
	}

	.footer-container {
		color: var(--foreground);
		padding: 40px 36px 60px;

		display: grid;
		grid-template-columns: 1fr;
		grid-template-rows: auto auto auto auto; //2fr 80px 45px 80px;
		grid-column-gap: 20px;
		grid-row-gap: 40px;
		grid-template-areas:
			"uclogo"
			"square-logos"
			"license"
			"copyright";

		.uclogo {
			display: flex;
			justify-content: center;
			grid-area: uclogo;
			a {
				width: $common-width;
				justify-self: right;
				grid-area: uclogo;
				display: inline-block;
				img {
					max-width: 100%;
					&.logo {
						display: none;
						&.theme-light {
							&.horizontal {
								display: none;
							}
							&.vertical {
								display: block;
							}
						}
						&.theme-dark {
							display: none;
						}
					}
				}
			}
		}

		.square-logos {
			display: flex;
			grid-area: square-logos;
			justify-content: space-between;
			width: $common-width;
			margin: auto;
			a {
				display: block;
				color: var(--foreground);
				transition:
					color 180ms ease,
					transform 180ms ease,
					filter 180ms ease;
				&:hover {
					color: var(--chart-3);
					transform: translateY(-2px) scale(1.04);
					filter: drop-shadow(0 4px 10px color-mix(in oklab, var(--chart-3) 35%, transparent));
				}
				&:active {
					transform: translateY(-1px) scale(1.01);
				}
			}
		}

		$square-logo-height: 50px;

		.square-logo {
			grid-area: square-logos;
			display: flex;
			// background: red;
			height: $square-logo-height;
			align-items: flex-end;
		}

		.lclogo,
		.cclogo {
			svg {
				height: 45px; // leaves a little space at the top for the mortar board on elearninglogo
				fill: currentColor;
			}
		}
		.elearninglogo {
			svg {
				height: $square-logo-height;
				fill: currentColor;
			}
		}

		.license {
			grid-area: license;
			font-style: normal;

			// font-weight: 400;
			// margin-top: 32px;
			color: color-mix(in oklab, var(--foreground) 85%, transparent);
			a {
				&:hover {
					color: var(--primary);
				}
			}
		}

		.copyright {
			grid-area: copyright;
			justify-self: start;
			margin: 0;
			color: var(--foreground);
			a {
				text-decoration-line: underline;
				text-decoration-style: solid;
				text-decoration-skip-ink: auto;
				text-decoration-thickness: 1px;
				text-underline-offset: 5px;
				text-underline-position: from-font;
				color: var(--primary);
				&:hover {
					color: var(--primary);
				}
			}
			.developed {
				margin-top: 0;
				font-style: normal;
			}
		}
	}
}

@media (prefers-reduced-motion: reduce) {
	footer {
		.footer-container {
			.square-logos a {
				transition: color 120ms ease;
				&:hover,
				&:active {
					transform: none;
					filter: none;
				}
			}
		}
	}
}

.dark footer {
	background-color: var(--sidebar);
	&::before,
	&::after {
		display: none;
	}
	.footer-container {
		.square-logos a:hover {
			color: var(--chart-4);
			filter: drop-shadow(0 4px 10px color-mix(in oklab, var(--chart-4) 35%, transparent));
		}
		.uclogo a img.logo.theme-light {
			display: none;
		}
		.uclogo a img.logo.theme-dark {
			&.horizontal {
				display: none;
			}
			&.vertical {
				display: block;
			}
		}
	}
}

// html.dark-mode {
// 	footer {
// 		background-color: white;
// 		.footer-container {
// 			color: black;
// 			img {
// 				&.logo {
// 					&.black {
// 						display: block;
// 						&.horizontal {
// 							display: none;
// 						}
// 						&.vertical {
// 							display: block;
// 						}
// 					}
// 					&.white {
// 						display: none;
// 						&.horizontal {
// 							display: none;
// 						}
// 						&.vertical {
// 							display: none;
// 						}
// 					}
// 				}
// 			}
// 		}
// 	}
// }

@include respond-above(s) {
	$common-width: 320px;
	footer {
		.footer-container {
			.uclogo {
				justify-content: center;
				a {
					width: $common-width;
					img {
						&.logo {
							&.theme-light.horizontal {
								display: block;
							}
							&.theme-light.vertical {
								display: none;
							}
							&.theme-dark {
								display: none;
							}
						}
					}
				}
			}
			.square-logos {
				width: $common-width;
			}
		}
	}
}

@include respond-above(s) {
	.dark footer {
		.footer-container {
			.uclogo a img.logo.theme-light {
				display: none;
			}
			.uclogo a img.logo.theme-dark {
				&.horizontal {
					display: block;
				}
				&.vertical {
					display: none;
				}
			}
		}
	}
}

@include respond-above(m) {
	footer {
		.footer-container {
			// max-width: 640px;
			grid-template-columns: 3fr 2fr;
			grid-template-rows: auto auto auto;
			grid-template-areas:
				"uclogo square-logos"
				"license license"
				"copyright copyright";
			// grid-row-gap: 36px;

			.uclogo {
				justify-content: start;
			}

			// padding: 130px 80px; //2.5rem 0;
			.square-logos {
				// grid-area: square-logos;
				justify-content: flex-end;
				gap: 40px;
				.lclogo,
				.cclogo {
					img,
					svg {
						height: 52px;
					}
				}
				.elearninglogo {
					img,
					svg {
						height: 58px;
					}
				}
			}
		}
	}
}
@include respond-above(xl) {
	footer {
		.footer-container {
			// max-width: 768px;
			// grid-template-columns: 2fr 1fr 3fr; //repeat(2, 1fr);
			// grid-template-rows: 1fr;
			// grid-column-gap: 20px;
			// grid-template-areas: "copyright square-logos uclogo";
			// grid-row-gap: 0;
			.lclogo,
			.cclogo,
			.elearninglogo {
				// img,
				svg {
					height: 54px;
				}
			}
			.uclogo {
				width: auto;
				max-width: none;
				a {
					height: 56px; //54px;
					width: auto;
					img {
						height: 100%;
						width: auto;
					}
				}
				// img {
				// 	height: 70px;
				// 	// width: 580px;
				// }
			}

			img {
				&.logo {
					&.black {
						display: none;
					}
					&.white {
						&.horizontal {
							display: block;
						}
						&.vertical {
							display: none;
						}
					}
				}
			}
		}
	}

	// html.dark-mode {
	// 	footer {
	// 		background-color: white;
	// 		.footer-container {
	// 			color: black;
	// 			img {
	// 				&.logo {
	// 					&.black {
	// 						display: block;
	// 						&.horizontal {
	// 							display: block;
	// 						}
	// 						&.vertical {
	// 							display: none;
	// 						}
	// 					}
	// 					&.white {
	// 						display: none;
	// 						&.horizontal {
	// 							display: none;
	// 						}
	// 						&.vertical {
	// 							display: none;
	// 						}
	// 					}
	// 				}
	// 			}
	// 		}
	// 	}
	// }
}

@include respond-above(xxxl) {
	footer {
		.footer-container {
			// max-width: 1024px;
			.lclogo,
			.cclogo,
			.uclogo,
			.elearninglogo {
				width: auto;
				max-width: none;
				img,
				svg {
					height: 80px;
					// width: 580px;
				}
			}
		}
	}
}
// @media (min-width: 1280px) {
// 	footer {
// 		.footer-container {
// 			max-width: 1280px;
// 		}
// 	}
// }
